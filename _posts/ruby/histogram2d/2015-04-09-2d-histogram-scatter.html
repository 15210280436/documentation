---
name: 2D Histogram Overlaid with a Scatter Chart
plot_url: https://plot.ly/~jackp/9363/
language: ruby
suite: histogram2d
order: 2
sitemap: false
---

# Learn about API authentication here: https://plot.ly/ruby/getting-started
# Find your api_key here: https://plot.ly/settings/api
trace1 = {
  x: [0.0503765194533, 0.68634389963, 0.246686320956, 0.645647489923, 0.25968688554, 0.541106153471, 0.580926583076, 0.211785362328, 0.541310998468, 0.548993428644, 0.723583106293, 0.728416357396, 0.716881091049, 0.434959322734, 0.321197646107, 0.399375436854, 0.603723292725, 0.317817910874, 0.342807942761, 0.4960044387, 0.732975626913, 0.956027861578, 0.324845601521, 0.687675204087, 0.640848749485, 0.629466437282, 0.36430651126, 0.314331611076, 0.371092316566, 0.639080290907, 0.510058516338, 0.48484635227, 0.894131725373, 0.434308448206, 0.372951167701, 0.452387435165, 0.444413546604, 0.593941952155, 0.415261771456, 0.547264480662, 0.640612553008, 0.57379655955, 0.333301692262, 0.399201942473, 0.360660297174, 0.323021275236, 0.573092591811, 0.549046599699, 0.577092182667, 0.678548833852, 0.243177695533, 0.382489188038, 0.719677299247, 0.491286499701, 0.739135749377, 0.516231013183, 0.723621797591, 0.411951362352, 0.414343947991, 0.503994461334, 0.276713055864, 0.304549618551, 0.55770631271, 0.232538517843, 0.658108579211, 0.938796710832, -0.0101638937224, 0.774691130606, 0.38877819353, 0.483544737592, 0.651172065396, 0.352520540315, 0.494909831272, 0.406837177509, 0.540819115008, 0.450993712987, 0.266063027698, 0.186412468201, 0.561327343565, 0.825945011819, 0.540405208114, 0.364933779315, 0.608440460615, 0.482645305265, 0.345195700855, 0.285430301662, 0.417428254833, 0.771938850757, 0.176622695993, 0.574834339939, 0.459849887291, 0.82369488183, 0.632013665995, 0.66917504917, 0.766243052599, 0.323586082426, 0.535755705279, 0.715101438119, 0.400666133966, 0.433629646653], 
  y: [0.516847136644, 0.399802605886, 0.462695149974, 0.560762000869, 0.61586399726, 0.341658873461, 0.604111589685, 0.721167999079, 0.506651008693, 0.346457181223, 0.499701729599, 0.864656326304, 0.716945550779, 0.409192986377, 0.860637175733, 0.200051671274, 0.560496454385, 0.332329370799, 0.284550031863, 0.382686202685, 0.462861102037, 0.286270821356, 0.283884817108, 0.550670495863, 0.35394622417, 0.830527008888, 0.808980825235, 0.0795354562708, 0.124389021383, 0.428167547954, 0.454966009446, 0.347341427231, 0.766807205902, 0.520675368739, 0.818112403906, 0.634482832684, 0.335170000622, 0.493090351035, 0.621605391808, 0.303189057761, 0.322530149357, 0.333859142802, 0.552721090855, 0.545539091731, 0.109761524507, 0.328375907497, 0.259123519476, 0.379897397533, 0.614975461385, 0.756262843023, 0.434693590062, 0.507992804905, 0.197694279119, 0.495459709619, 0.521035526194, 0.56294993208, 0.375149453346, 0.644505540378, 0.697719864331, 0.554023056352, 0.512224572049, 0.462995955487, 0.546663312213, 0.364068563216, 0.489275038958, 0.365090704273, 0.452245343748, 0.432007462814, 0.462140457172, 0.663193550855, 0.491119804543, 0.569136627281, 0.479778167761, 0.785799974359, 0.275999518004, 0.732433095551, 0.660497444547, 0.12858041785, 0.331845356625, 0.4605065438, 0.840554898368, 0.13670972754, 0.457801830149, 0.792279361754, 0.431254890727, 0.819995493381, 0.479745920013, 0.0972602547435, 0.708972367188, 0.336580055831, 0.716762991736, 0.257066835673, 0.144197436513, 0.630241584355, 0.517882397286, 0.533802366158, 0.350872187135, 0.369572987974, 0.602293375384, 0.208367370429], 
  mode: "markers", 
  name: "trace0_y", 
  marker: {
    color: "white", 
    size: 8, 
    symbol: "x", 
    line: {width: 1}, 
    opacity: 0.7
  }, 
  showlegend: false, 
  type: "scatter"
}
trace2 = {
  x: [0.498428653861, 0.587168300537, 0.128639744864, 0.800457211454, 0.779391127662, 0.851342272115, 0.574821813849, 0.631320171384, 0.629940406864, 0.704864948892, 0.327164325881, 0.588472278108, 0.745278677181, 0.232961943825, 0.209572690859, 0.651339796347, 0.0919596981317, 0.826925507825, 0.63839464337, 0.851745942457, 0.330793381714, 0.685701177327, 0.435479902737, 0.799616452343, 0.635590373645, 0.510453395327, 0.545786134236, 0.305717331585, 0.942293151368, 0.284761962061, 0.755706686975, 0.552585077382, 0.0669337831045, 0.0124099856557, 0.291983741268, 0.782767300279, 0.803311088592, 0.107936126594, 0.0851770912331, 0.535443870889, 0.026703821775, 0.619954272716, 0.516274009688, 0.954295793709, 0.963935391354, 0.915490253858, 0.749486641984, 0.609317920244, 0.427722726077, 0.896881029813], 
  y: [1.15768957461, 1.41237198768, 1.24476728611, 1.40790194298, 1.35171175782, 1.19423531815, 1.51855942515, 1.69746291658, 1.1356681499, 1.31401532323, 1.1957491232, 1.23613083314, 1.08789825714, 1.06706382816, 1.78270082857, 1.80815129199, 1.4630552955, 1.30782245576, 1.38676248014, 1.15099833658, 1.45178794528, 1.79859267197, 1.20495938012, 1.06919278362, 1.6860342703, 1.46479576748, 1.04428028498, 1.12927503881, 1.88328707546, 1.98969554202, 1.10167595918, 1.95268549547, 1.17922352793, 1.56461222489, 1.76056714509, 1.12685496273, 1.19352080131, 1.70129774126, 1.88078048977, 1.30335661026, 1.94493622803, 1.87997485405, 1.10683862227, 1.53173576875, 1.51506098742, 1.08123171994, 1.32321314646, 1.16736431005, 1.60054019425, 1.10064066242], 
  mode: "markers", 
  name: "trace1_y", 
  marker: {
    color: "white", 
    size: 8, 
    symbol: "circle", 
    line: {width: 1}, 
    opacity: 0.7
  }, 
  showlegend: false, 
  type: "scatter"
}
trace3 = {
  x: [0.0503765194533, 0.68634389963, 0.246686320956, 0.645647489923, 0.25968688554, 0.541106153471, 0.580926583076, 0.211785362328, 0.541310998468, 0.548993428644, 0.723583106293, 0.728416357396, 0.716881091049, 0.434959322734, 0.321197646107, 0.399375436854, 0.603723292725, 0.317817910874, 0.342807942761, 0.4960044387, 0.732975626913, 0.956027861578, 0.324845601521, 0.687675204087, 0.640848749485, 0.629466437282, 0.36430651126, 0.314331611076, 0.371092316566, 0.639080290907, 0.510058516338, 0.48484635227, 0.894131725373, 0.434308448206, 0.372951167701, 0.452387435165, 0.444413546604, 0.593941952155, 0.415261771456, 0.547264480662, 0.640612553008, 0.57379655955, 0.333301692262, 0.399201942473, 0.360660297174, 0.323021275236, 0.573092591811, 0.549046599699, 0.577092182667, 0.678548833852, 0.243177695533, 0.382489188038, 0.719677299247, 0.491286499701, 0.739135749377, 0.516231013183, 0.723621797591, 0.411951362352, 0.414343947991, 0.503994461334, 0.276713055864, 0.304549618551, 0.55770631271, 0.232538517843, 0.658108579211, 0.938796710832, -0.0101638937224, 0.774691130606, 0.38877819353, 0.483544737592, 0.651172065396, 0.352520540315, 0.494909831272, 0.406837177509, 0.540819115008, 0.450993712987, 0.266063027698, 0.186412468201, 0.561327343565, 0.825945011819, 0.540405208114, 0.364933779315, 0.608440460615, 0.482645305265, 0.345195700855, 0.285430301662, 0.417428254833, 0.771938850757, 0.176622695993, 0.574834339939, 0.459849887291, 0.82369488183, 0.632013665995, 0.66917504917, 0.766243052599, 0.323586082426, 0.535755705279, 0.715101438119, 0.400666133966, 0.433629646653, 0.498428653861, 0.587168300537, 0.128639744864, 0.800457211454, 0.779391127662, 0.851342272115, 0.574821813849, 0.631320171384, 0.629940406864, 0.704864948892, 0.327164325881, 0.588472278108, 0.745278677181, 0.232961943825, 0.209572690859, 0.651339796347, 0.0919596981317, 0.826925507825, 0.63839464337, 0.851745942457, 0.330793381714, 0.685701177327, 0.435479902737, 0.799616452343, 0.635590373645, 0.510453395327, 0.545786134236, 0.305717331585, 0.942293151368, 0.284761962061, 0.755706686975, 0.552585077382, 0.0669337831045, 0.0124099856557, 0.291983741268, 0.782767300279, 0.803311088592, 0.107936126594, 0.0851770912331, 0.535443870889, 0.026703821775, 0.619954272716, 0.516274009688, 0.954295793709, 0.963935391354, 0.915490253858, 0.749486641984, 0.609317920244, 0.427722726077, 0.896881029813], 
  y: [0.516847136644, 0.399802605886, 0.462695149974, 0.560762000869, 0.61586399726, 0.341658873461, 0.604111589685, 0.721167999079, 0.506651008693, 0.346457181223, 0.499701729599, 0.864656326304, 0.716945550779, 0.409192986377, 0.860637175733, 0.200051671274, 0.560496454385, 0.332329370799, 0.284550031863, 0.382686202685, 0.462861102037, 0.286270821356, 0.283884817108, 0.550670495863, 0.35394622417, 0.830527008888, 0.808980825235, 0.0795354562708, 0.124389021383, 0.428167547954, 0.454966009446, 0.347341427231, 0.766807205902, 0.520675368739, 0.818112403906, 0.634482832684, 0.335170000622, 0.493090351035, 0.621605391808, 0.303189057761, 0.322530149357, 0.333859142802, 0.552721090855, 0.545539091731, 0.109761524507, 0.328375907497, 0.259123519476, 0.379897397533, 0.614975461385, 0.756262843023, 0.434693590062, 0.507992804905, 0.197694279119, 0.495459709619, 0.521035526194, 0.56294993208, 0.375149453346, 0.644505540378, 0.697719864331, 0.554023056352, 0.512224572049, 0.462995955487, 0.546663312213, 0.364068563216, 0.489275038958, 0.365090704273, 0.452245343748, 0.432007462814, 0.462140457172, 0.663193550855, 0.491119804543, 0.569136627281, 0.479778167761, 0.785799974359, 0.275999518004, 0.732433095551, 0.660497444547, 0.12858041785, 0.331845356625, 0.4605065438, 0.840554898368, 0.13670972754, 0.457801830149, 0.792279361754, 0.431254890727, 0.819995493381, 0.479745920013, 0.0972602547435, 0.708972367188, 0.336580055831, 0.716762991736, 0.257066835673, 0.144197436513, 0.630241584355, 0.517882397286, 0.533802366158, 0.350872187135, 0.369572987974, 0.602293375384, 0.208367370429, 1.15768957461, 1.41237198768, 1.24476728611, 1.40790194298, 1.35171175782, 1.19423531815, 1.51855942515, 1.69746291658, 1.1356681499, 1.31401532323, 1.1957491232, 1.23613083314, 1.08789825714, 1.06706382816, 1.78270082857, 1.80815129199, 1.4630552955, 1.30782245576, 1.38676248014, 1.15099833658, 1.45178794528, 1.79859267197, 1.20495938012, 1.06919278362, 1.6860342703, 1.46479576748, 1.04428028498, 1.12927503881, 1.88328707546, 1.98969554202, 1.10167595918, 1.95268549547, 1.17922352793, 1.56461222489, 1.76056714509, 1.12685496273, 1.19352080131, 1.70129774126, 1.88078048977, 1.30335661026, 1.94493622803, 1.87997485405, 1.10683862227, 1.53173576875, 1.51506098742, 1.08123171994, 1.32321314646, 1.16736431005, 1.60054019425, 1.10064066242], 
  name: "trace2_y", 
  nbinsx: 14, 
  nbinsy: 14, 
  colorscale: "YIGnBu", 
  zauto: false, 
  zmax: 10, 
  type: "histogram2d"
}
data = [trace1, trace2, trace3]
layout = {
  autosize: false, 
  width: 550, 
  height: 550, 
  xaxis: {
    showgrid: false, 
    zeroline: false, 
    nticks: 20, 
    ticks: ""
  }, 
  yaxis: {
    showgrid: false, 
    zeroline: false, 
    nticks: 20, 
    ticks: ""
  }, 
  hovermode: "closest"
}

args = {   
    filename: '2015-04-09-2d-histogram-scatter',
    fileopt: 'overwrite',
    layout: layout,
    world_readable: true
}


plotly.plot(data, args) do |response|
   puts response['url']
end
