---
name: Donut Chart
plot_url: https://plot.ly/~chelsea_lyn/5332
language: ruby
suite: pie-charts
order: 2
sitemap: false
---

# Learn about API authentication here: https://plot.ly/ruby/getting-started
# Find your api_key here: https://plot.ly/settings/api
trace1 = {
  domain: {x: [0, 0.48]}, 
  name: "GHG Emissions", 
  labels: ["US", "China", "European Union", "Russian Federation", "Brazil", "India", "Rest of World"], 
  values: [16, 15, 12, 6, 5, 4, 42], 
  hoverinfo: "label+percent+name", 
  hole: 0.4, 
  type: "pie", 
  uid: "57c96a"
}
trace2 = {
  textposition: "inside", 
  domain: {x: [0.52, 1]}, 
  name: "CO2 Emissions", 
  text: "CO2", 
  labels: ["US", "China", "European Union", "Russian Federation", "Brazil", "India", "Rest of World"], 
  values: [27, 11, 25, 8, 1, 3, 25], 
  hoverinfo: "label+percent+name", 
  hole: 0.4, 
  type: "pie", 
  uid: "4f9c49"
}
data = [trace1, trace2]
layout = {
  autosize: true, 
  title: "Global Emissions 1990-2011", 
  showlegend: false, 
  height: 478, 
  width: 715, 
  annotations: [
    {
      y: 0.5, 
      text: "GHG", 
      font: {size: 14}, 
      showarrow: false, 
      x: 0.2
    }, 
    {
      y: 0.5, 
      text: "CO2", 
      font: {size: 14}, 
      showarrow: false, 
      x: 0.8
    }
  ]
}

args = {   
    filename: '2015-08-03-pie-chart-donut',
    fileopt: 'overwrite',
    layout: layout,
    world_readable: true
}


plotly.plot(data, args) do |response|
   puts response['url']
end
