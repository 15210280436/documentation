---
permalink: python/offline/
layout: user-guide
page_type: u-guide
description: How to use Plotly offline inside IPython notebooks with Plotly Offline
name: Plotly Offline for IPython Notebooks
language: python
has_thumbnail: false
thumbnail: /images/static-image.png
---
{% raw %}<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Plotly-Offline">Plotly Offline<a class="anchor-link" href="#Plotly-Offline">&#182;</a></h1><p>Plotly Offline brings interactive Plotly graphs to the offline IPython Notebook environment.</p>
<p>Instead of saving the graphs to a server, your data and graphs will remain inside your IPython notebook.
When your ready to share, you can just publish them to the <a href="https://plot.ly/feed]">Plotly Cloud</a> or to your 
company's internal <a href="https://plot.ly/product/enterprise">Plotly Enterprise</a>.</p>
<p>To get started with Plotly Offline, contact <sales@plot.ly> to learn about licensing and receive a URL to download 
the package.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">!</span> pip install plotly --upgrade
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">plotly</span> <span class="kn">import</span> <span class="n">__version__</span>
<span class="kn">from</span> <span class="nn">plotly.offline</span> <span class="kn">import</span> <span class="n">download_plotlyjs</span><span class="p">,</span> <span class="n">init_notebook_mode</span><span class="p">,</span> <span class="n">iplot</span>

<span class="k">print</span> <span class="n">__version__</span> <span class="c"># requires version &gt;= 1.7.2</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1.7.5
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">download_plotlyjs</span><span class="p">(</span><span class="s">&#39;your_licensed_plotly_offline_url&#39;</span><span class="p">)</span> <span class="c"># Contact sales@plot.ly to receive a valid URL</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">init_notebook_mode</span><span class="p">()</span> <span class="c"># run at the start of every ipython notebook</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">iplot</span><span class="p">([{</span><span class="s">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">]}])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">iplot</span><span class="p">([</span><span class="n">Box</span><span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">showlegend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">45</span><span class="p">)])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">iplot</span><span class="p">([</span><span class="n">Histogram2dContour</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">contours</span><span class="o">=</span><span class="n">Contours</span><span class="p">(</span><span class="n">coloring</span><span class="o">=</span><span class="s">&#39;heatmap&#39;</span><span class="p">)),</span>
       <span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&#39;markers&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">Marker</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.3</span><span class="p">))])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&#39;https://plot.ly/~etpinard/191.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">iplot</span><span class="p">({</span>
    <span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">continent</span><span class="o">+</span><span class="s">&#39;_Life Expentancy [in years]&#39;</span><span class="p">],</span>
                <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">continent</span><span class="o">+</span><span class="s">&#39;_Gross Domestic Product per Capita [in USD of the year 2000]&#39;</span><span class="p">],</span>
                <span class="n">text</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">continent</span><span class="o">+</span><span class="s">&#39;_text&#39;</span><span class="p">],</span>
                <span class="n">marker</span><span class="o">=</span><span class="n">Marker</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">continent</span><span class="o">+</span><span class="s">&#39;_marker.size&#39;</span><span class="p">],</span> <span class="n">sizemode</span><span class="o">=</span><span class="s">&#39;area&#39;</span><span class="p">,</span> <span class="n">sizeref</span><span class="o">=</span><span class="mi">131868</span><span class="p">,),</span>
                <span class="n">mode</span><span class="o">=</span><span class="s">&#39;markers&#39;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">continent</span><span class="p">)</span> <span class="k">for</span> <span class="n">continent</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;Africa&#39;</span><span class="p">,</span> <span class="s">&#39;Americas&#39;</span><span class="p">,</span> <span class="s">&#39;Asia&#39;</span><span class="p">,</span> <span class="s">&#39;Europe&#39;</span><span class="p">,</span> <span class="s">&#39;Oceania&#39;</span><span class="p">]</span>
    <span class="p">],</span>
    <span class="s">&#39;layout&#39;</span><span class="p">:</span> <span class="n">Layout</span><span class="p">(</span><span class="n">xaxis</span><span class="o">=</span><span class="n">XAxis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&#39;Life Expectancy&#39;</span><span class="p">),</span> <span class="n">yaxis</span><span class="o">=</span><span class="n">YAxis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&#39;GDP per Capita&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">&#39;log&#39;</span><span class="p">))</span>
<span class="p">})</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&#39;https://gist.githubusercontent.com/chriddyp/694f77aa92073a4da4c5/raw/a96a5e87e17b8edec0b8197c79e9da87c8cde2ac/topographic_data.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">iplot</span><span class="p">({</span><span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Surface</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">])],</span> <span class="s">&#39;layout&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;height&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}})</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="n">df_airports</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&#39;https://raw.githubusercontent.com/plotly/datasets/master/2011_february_us_airport_traffic.csv&#39;</span><span class="p">)</span>
<span class="n">df_airports</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="n">df_flight_paths</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&#39;https://raw.githubusercontent.com/plotly/datasets/master/2011_february_aa_flight_paths.csv&#39;</span><span class="p">)</span>
<span class="n">df_flight_paths</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="n">airports</span> <span class="o">=</span> <span class="p">[</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="s">&#39;scattergeo&#39;</span><span class="p">,</span>
        <span class="n">locationmode</span> <span class="o">=</span> <span class="s">&#39;USA-states&#39;</span><span class="p">,</span>
        <span class="n">lon</span> <span class="o">=</span> <span class="n">df_airports</span><span class="p">[</span><span class="s">&#39;long&#39;</span><span class="p">],</span>
        <span class="n">lat</span> <span class="o">=</span> <span class="n">df_airports</span><span class="p">[</span><span class="s">&#39;lat&#39;</span><span class="p">],</span>
        <span class="n">hoverinfo</span> <span class="o">=</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">df_airports</span><span class="p">[</span><span class="s">&#39;airport&#39;</span><span class="p">],</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="s">&#39;markers&#39;</span><span class="p">,</span>
        <span class="n">marker</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span> 
            <span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> 
            <span class="n">color</span><span class="o">=</span><span class="s">&#39;rgb(255, 0, 0)&#39;</span><span class="p">,</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="s">&#39;rgba(68, 68, 68, 0)&#39;</span>
            <span class="p">)</span>
        <span class="p">))]</span>
        
<span class="n">flight_paths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span> <span class="n">df_flight_paths</span> <span class="p">)</span> <span class="p">):</span>
    <span class="n">flight_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="s">&#39;scattergeo&#39;</span><span class="p">,</span>
            <span class="n">locationmode</span> <span class="o">=</span> <span class="s">&#39;USA-states&#39;</span><span class="p">,</span>
            <span class="n">lon</span> <span class="o">=</span> <span class="p">[</span> <span class="n">df_flight_paths</span><span class="p">[</span><span class="s">&#39;start_lon&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">df_flight_paths</span><span class="p">[</span><span class="s">&#39;end_lon&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="p">],</span>
            <span class="n">lat</span> <span class="o">=</span> <span class="p">[</span> <span class="n">df_flight_paths</span><span class="p">[</span><span class="s">&#39;start_lat&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">df_flight_paths</span><span class="p">[</span><span class="s">&#39;end_lat&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="p">],</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s">&#39;lines&#39;</span><span class="p">,</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">width</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;red&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">opacity</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">df_flight_paths</span><span class="p">[</span><span class="s">&#39;cnt&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">df_flight_paths</span><span class="p">[</span><span class="s">&#39;cnt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()),</span>
        <span class="p">)</span>
    <span class="p">)</span>
    
<span class="n">layout</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s">&#39;Feb. 2011 American Airline flight paths&lt;br&gt;(Hover for airport names)&#39;</span><span class="p">,</span>
        <span class="n">showlegend</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> 
        <span class="n">height</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
        <span class="n">geo</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">scope</span><span class="o">=</span><span class="s">&#39;north america&#39;</span><span class="p">,</span>
            <span class="n">projection</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span> <span class="nb">type</span><span class="o">=</span><span class="s">&#39;azimuthal equal area&#39;</span> <span class="p">),</span>
            <span class="n">showland</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
            <span class="n">landcolor</span> <span class="o">=</span> <span class="s">&#39;rgb(243, 243, 243)&#39;</span><span class="p">,</span>
            <span class="n">countrycolor</span> <span class="o">=</span> <span class="s">&#39;rgb(204, 204, 204)&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
    
<span class="n">fig</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span> <span class="n">data</span><span class="o">=</span><span class="n">flight_paths</span> <span class="o">+</span> <span class="n">airports</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span> <span class="p">)</span>

<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">py</span><span class="o">.</span><span class="n">get_figure</span><span class="p">(</span><span class="s">&#39;https://plot.ly/~jackp/8715&#39;</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>{% endraw %}