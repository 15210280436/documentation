---
name: Customize Tickformatstops for different zoom levels
plot_url: https://codepen.io/plotly/embed/GPjoQp/?height=500&theme-id=15263&default-tab=result
language: plotly_js
suite: tick-formatting
order: 2.75
sitemap: false
arrangement: horizontal
---

var gd = document.getElementById('myDiv');
var x= ['2013-10-04 10:23:00', '2013-10-04 13:23:00', '2013-10-04 23:23:00', '2013-10-05 23:23:00'],
	 y =[1, 3, 6, 7]
var data = [
  {
    x: x,
    y: y,
    type: 'scatter'
  }
];
var layout = {
  xaxis: {
	  range:[Date.parse(x[0])-60.0*60.0*1000, Date.parse(x[x.length-1])+60.0*60.0*1000],
	  tick0: Date.parse(x[0]),
     dtick: (Date.parse(x[x.length-1])-Date.parse(x[0]))/10, // 10 ticks
	  tickformatstops: [
		  {
			  dtickrange: [null, 60*1000.0], // To hide milliseconds
			  value: "%H:%M:%S"
		  }
	  ]
  }
};

Plotly.plot(gd, data, layout);

var upd_layout = {}
gd.on('plotly_relayout',
    function(eventdata){
	upd_layout = {
    'xaxis.range': [Date.parse(eventdata['xaxis.range[0]']), Date.parse(eventdata['xaxis.range[1]'])],   // updates the xaxis range
	  'xaxis.tick0': Date.parse(eventdata['xaxis.range[0]']), // updates the xaxis tick0
	  'xaxis.dtick': (Date.parse(eventdata['xaxis.range[1]'])-Date.parse(eventdata['xaxis.range[0]']))/10 // 10 ticks
 };
  Plotly.update(gd, data, upd_layout)
  });
