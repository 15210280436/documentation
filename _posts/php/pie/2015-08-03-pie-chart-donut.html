---
name: Donut Chart
plot_url: https://plot.ly/~chelsea_lyn/5332
language: php
suite: pie-charts
order: 2
sitemap: false
---

// Learn about API authentication here: https://plot.ly/php/getting-started
// Find your api_key here: https://plot.ly/settings/api
$trace1 = array(
  'domain' => array('x' => array(0, 0.48)), 
  'name' => 'GHG Emissions', 
  'labels' => array('US', 'China', 'European Union', 'Russian Federation', 'Brazil', 'India', 'Rest of World'), 
  'values' => array(16, 15, 12, 6, 5, 4, 42), 
  'hoverinfo' => 'label+percent+name', 
  'hole' => 0.4, 
  'type' => 'pie', 
  'uid' => '57c96a'
);
$trace2 = array(
  'textposition' => 'inside', 
  'domain' => array('x' => array(0.52, 1)), 
  'name' => 'CO2 Emissions', 
  'text' => 'CO2', 
  'labels' => array('US', 'China', 'European Union', 'Russian Federation', 'Brazil', 'India', 'Rest of World'), 
  'values' => array(27, 11, 25, 8, 1, 3, 25), 
  'hoverinfo' => 'label+percent+name', 
  'hole' => 0.4, 
  'type' => 'pie', 
  'uid' => '4f9c49'
);
$data = array(trace1, trace2);
$layout = array(
  'autosize' => True, 
  'title' => 'Global Emissions 1990-2011', 
  'showlegend' => False, 
  'height' => 478, 
  'width' => 715, 
  'annotations' => array(
    array(
      'y' => 0.5, 
      'text' => 'GHG', 
      'font' => array('size' => 14), 
      'showarrow' => False, 
      'x' => 0.2
    ), 
    array(
      'y' => 0.5, 
      'text' => 'CO2', 
      'font' => array('size' => 14), 
      'showarrow' => False, 
      'x' => 0.8
    )
  )
);

$args = array(
          'filename' =>  '2015-08-03-pie-chart-donut',
          'fileopt' =>  'overwrite',
          'layout' => $layout,
          'world_readable' => true
);
$res = $pl_obj->post( 'plot', $data, $args );
var_dump( $res );
