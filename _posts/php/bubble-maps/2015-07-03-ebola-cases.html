---
name: Ebola Cases in West Africa
plot_url: https://plot.ly/~jackp/8666/
language: php
suite: bubble-maps
order: 2
sitemap: false
---

// Learn about API authentication here: https://plot.ly/php/getting-started
// Find your api_key here: https://plot.ly/settings/api
$trace1 = array(
  'textposition' => 'bottom center', 
  'name' => 'Sept', 
  'tick0' => 0, 
  'text' => array('1022 Guinea', '3362 Liberia', '3 Senegal', '1940 Sierra Leone'), 
  'zmin' => 0, 
  'lon' => array(-9.7, -9.43, -14.45, -11.78), 
  'dtick' => 1000, 
  'colorbar' => array(
    'tickprefix' => '', 
    'autotick' => False, 
    'title' => ''
  ), 
  'lat' => array(9.95, 6.43, 14.5, 8.46), 
  'sizemode' => 'diameter', 
  'mode' => 'markers+text', 
  'marker' => array(
    'color' => 'rgb(33,113,181)', 
    'line' => array('width' => 0), 
    'size' => array(20.44, 67.24, 0.06, 38.8)
  ), 
  'type' => 'scattergeo'
);
$trace2 = array(
  'name' => 'Aug', 
  'tick0' => 0, 
  'text' => array(771.0, 1395.0, 1.0, 1216.0), 
  'zmin' => 0, 
  'lon' => array(-9.7, -9.43, -14.45, -11.78), 
  'dtick' => 1000, 
  'colorbar' => array(
    'tickprefix' => '', 
    'autotick' => False, 
    'title' => ''
  ), 
  'lat' => array(9.95, 6.43, 14.5, 8.46), 
  'sizemode' => 'diameter', 
  'marker' => array(
    'color' => 'rgb(107,174,214)', 
    'line' => array('width' => 0), 
    'size' => array(15.42, 27.9, 0.02, 24.32)
  ), 
  'type' => 'scattergeo'
);
$trace3 = array(
  'name' => 'July', 
  'tick0' => 0, 
  'text' => array(460.0, 329.0, 533.0), 
  'zmin' => 0, 
  'lon' => array(-9.7, -9.43, -11.78), 
  'dtick' => 1000, 
  'colorbar' => array(
    'tickprefix' => '', 
    'autotick' => False, 
    'title' => ''
  ), 
  'lat' => array(9.95, 6.43, 8.46), 
  'sizemode' => 'diameter', 
  'marker' => array(
    'color' => 'rgb(189,215,231)', 
    'line' => array('width' => 0), 
    'size' => array(9.2, 6.58, 10.66)
  ), 
  'type' => 'scattergeo'
);
$trace4 = array(
  'name' => 'June', 
  'tick0' => 0, 
  'text' => array(413.0, 107.0, 239.0), 
  'zmin' => 0, 
  'lon' => array(-9.7, -9.43, -11.78), 
  'dtick' => 1000, 
  'colorbar' => array(
    'tickprefix' => '', 
    'autotick' => False, 
    'title' => ''
  ), 
  'lat' => array(9.95, 6.43, 8.46), 
  'sizemode' => 'diameter', 
  'marker' => array(
    'color' => 'rgb(239,243,255)', 
    'line' => array('width' => 0), 
    'size' => array(8.26, 2.14, 4.78)
  ), 
  'type' => 'scattergeo'
);
$trace5 = array(
  'autocolorscale' => False, 
  'colorscale' => array(
    array(0, 'rgb(0, 0, 0)'), array(1, 'rgb(0, 0, 0)), 
  'type' => 'choropleth', 
  'locations' => array('Guinea', 'Liberia', 'Senegal', 'Sierra Leone'), 
  'showscale' => False, 
  'text' => array('Guinea', 'Liberia', 'Senegal', 'Sierra Leone'), 
  'locationmode' => 'country names', 
  'z' => array(1022.0, 3362.0, 3.0, 1940.0), 
  'geo' => 'geo2'
);
$trace6 = array(
  'showlegend' => False, 
  'text' => array('Africa'), 
  'lon' => array(21.0936), 
  'geo' => 'geo2', 
  'mode' => 'text', 
  'lat' => array(7.1881), 
  'type' => 'scattergeo'
);
$data = array(trace1, trace2, trace3, trace4, trace5, trace6);
$layout = array(
  'geo2' => array(
    'showland' => True, 
    'domain' => array(
      'y' => array(0, 0.6), 
      'x' => array(0, 0.6)
    ), 
    'bgcolor' => 'rgba(255, 255, 255, 0.0)', 
    'showframe' => False, 
    'landcolor' => 'rgb(229, 229, 229)', 
    'showcountries' => False, 
    'scope' => 'africa'
  ), 
  'geo' => array(
    'showland' => True, 
    'domain' => array(
      'y' => array(0, 1), 
      'x' => array(0, 1)
    ), 
    'countrycolor' => 'rgb(255, 255, 255)', 
    'projection' => array('type' => 'Mercator'), 
    'showframe' => False, 
    'lataxis' => array('range' => array(0.0, 12.0)), 
    'landcolor' => 'rgb(229, 229, 229)', 
    'lonaxis' => array('range' => array(-15.0, -5.0)), 
    'showcoastlines' => True, 
    'coastlinecolor' => 'rgb(255, 255, 255)', 
    'scope' => 'africa', 
    'resolution' => 50
  ), 
  'legend' => array('traceorder' => 'reversed'), 
  'title' => 'Ebola cases reported by month in West Africa 2014<br> Source: <a href="https://data.hdx.rwlabs.org/dataset/rowca-ebola-cases">HDX</a>'
);

$args = array(
          'filename' =>  '2015-07-03-ebola-cases',
          'fileopt' =>  'overwrite',
          'layout' => $layout,
          'world_readable' => true
);
$res = $pl_obj->post( 'plot', $data, $args );
var_dump( $res );
