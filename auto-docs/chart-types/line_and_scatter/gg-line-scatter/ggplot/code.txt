library(plotly)
library(ggplot2)

py &lt;- plotly("R-demos", "p9g4f35ytd")

model &lt;- lm(mpg ~ wt + factor(cyl), data=mtcars)
grid &lt;- with(mtcars, expand.grid(
  wt = seq(min(wt), max(wt), length = 20),
  cyl = levels(factor(cyl))
))

grid$mpg &lt;- stats::predict(model, newdata=grid)

viz2 &lt;- qplot(wt, mpg, data=mtcars, colour=factor(cyl)) + geom_line(data=grid)
py$ggplotly(viz2)
