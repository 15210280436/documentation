<!DOCTYPE html>
<html>
	    <head>

        <meta charset="utf-8" />

        <!-- Media query magic - http://stackoverflow.com/questions/19945658/my-iphone-thinks-its-980px-wide -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

    	<!-- Fonts -->
        <link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/plotly_icons.css" />
        <link href="//fonts.googleapis.com/css?family=Open+Sans:600,400,300,200|Inconsolata|Ubuntu+Mono:400,700" rel="stylesheet" type="text/css" />
	    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="//cdn.plot.ly/plotly-latest.min.js"></script>

    	<!-- Stylesheets -->
        <link rel="stylesheet" href="https://plot.ly/gh-pages/documentation/static//css/js-splash-highlight.css"/>
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/normalize.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/base.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/layout_block.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/modules.css">
    	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/state.css">
        <link rel="stylesheet" href="https://plot.ly/gh-pages/documentation/static//css/js-splash.css"/>
        
        
        <link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/api_docs.css">
        
        

    	<!-- Icon -->
    	<link rel="shortcut icon" href="https://plot.ly/gh-pages/documentation/static//images/plotly-ico.png" type="image/x-icon" />

    	<!-- META TAGS -->
    	<!-- SEO Tags - title, meta_description -->
    <title>ggplot2 useR guide | plotly</title>
    <meta name="description" content="A useR guide for interfacing ggplot2 with Plotly.">

<!-- Bing tags -->
    <meta name="msvalidate.01" content="D319859A832F9F1D15A7646E2A42150A" />
<!-- Facebook tags -->
    <meta property="og:title" content="plotly"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://plot.ly/gh-pages/documentation/static/thumbnail/facet_wrap.jpg">
    <meta property="og:description" content="A useR guide for interfacing ggplot2 with Plotly."/>
    <meta property="og:url" />
    <meta property="fb:admins" content="1123751525"/>
    <meta property="fb:admins" content="22418"/>

<!-- twitter tags -->
    <meta name="twitter:card" content="photo" />
    <meta name="twitter:title" content="plotly"/>
    <meta name="twitter:url" content="http://help.plot.lyggplot2/user-guide"/>
    <meta name="twitter:description" content="A useR guide for interfacing ggplot2 with Plotly."/>
    <meta name="twitter:image" content="https://plot.ly/gh-pages/documentation/static/thumbnail/facet_wrap.jpg">
    <meta name="twitter:site" content="@plotlygraphs"/>

<!-- Favicon -->
    <link rel="shortcut icon" href="https://plot.ly/gh-pages/documentation/static//images/plotly-ico.png" />



    	<!-- code highlighting -->
    	<!--<link rel="stylesheet" href="https://plot.ly/gh-pages/documentation/static//javascripts/codehighlight/styles/tomorrow.css">-->
        
	<!-- start Mixpanel --><script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
	for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
	mixpanel.init("ad6df61d0b9400400b240631576c24d4");</script><!-- end Mixpanel -->

	</head>

	<head>
	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/state.css">
	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/ipython-notebook-base.css">
	<link rel="stylesheet" type="text/css" href="https://plot.ly/gh-pages/documentation/static//css/ipython-notebook-custom.css">
	</head>

	<body>
	<div id="header" style="
  background-image: url('https://images.plot.ly/excel/plotlyjs/plotlyjs-banner-background.png');
  background-repeat: no-repeat;
  background-size: cover;
  max-width: 100%;
  background-position: center top;
  width: 100%;
  height: 350px;
  position: relative;
  ">

	<div class="headerbar">

  <div class="headerbar-leftside">
      <a href="https://plot.ly/feed/" class="logo" target="_blank">
          <i class="ploticon-plotlylogo"></i>
          <em>plotly</em>
      </a>
  </div>

  <div class="headerbar-rightside hidesmall">


      <a href="/settings" id="toolsignin" class="headerbar-nav-item --product-header" target="_self">Sign In</a>

      <a class="button --enterprise-quaternary" href="/settings" id="signup" target="_self">
        SIGN UP
      </a>
      
      
        <a class="button" href="/2/~bar-chart-excel/?plot_type=Bar%20chart">
          &plus; NEW PROJECT
        </a>
        <a class="button" href="https://plot.ly/products/cloud/">
          UPGRADE
        </a>
      
      
      <a href="https://plotly.typeform.com/to/seG7Vb" class="typeform-share button --enterprise-quaternary" data-mode="1" target="_blank" onclick="window.mixpanel.track('Typeform demo request');">REQUEST DEMO</a>
      <script>(function(){var qs,js,q,s,d=document,gi=d.getElementById,ce=d.createElement,gt=d.getElementsByTagName,id='typef_orm',b='https://s3-eu-west-1.amazonaws.com/share.typeform.com/';if(!gi.call(d,id)){js=ce.call(d,'script');js.id=id;js.src=b+'share.js';q=gt.call(d,'script')[0];q.parentNode.insertBefore(js,q)}})()
      </script>

  </div>

  <div class="headerbar-nav hidesmall">

      <a href="https://plot.ly/feed/" target="_blank">
      <span class="headerbar-nav-item ">Feed</span>
      </a>

      <a href="https://plot.ly/products/cloud/" target="_blank">
      <span class="headerbar-nav-item ">Pricing</span></span>
      </a>

      <a href="http://dashboards.ly/" target="_blank">
      <span class="headerbar-nav-item ">Dashboards</span></span>
      </a>

      <a href="https://plot.ly/api/" onmouseover="dropDownMenu('api-menu')" onmouseout="hideDropDownMenu('api-menu')" target="_self">
      <span class="headerbar-nav-item ">API</span><span class="caret"></span>
      </a>

          <nav id="api-menu" role="menu" class="dropdown-menu" onmouseover="dropDownMenu('api-menu')" onmouseout="hideDropDownMenu('api-menu')" style="display:none; margin-left: 225px;">
              <a href="/python" class="dropdown-menu-item" target="_blank">PYTHON</a>
              <a href="/r" class="dropdown-menu-item" target="_blank">R</a>
              <a href="/matlab" class="dropdown-menu-item" target="_blank">MATLAB</a>
              <a href="/javascript-graphing-library" class="dropdown-menu-item" target="_blank">JAVASCRIPT</a>
              <a href="/api" class="dropdown-menu-item" target="_blank">MORE</a>
          </nav>

  </div>

  <div class="hamburger">
    <a href='#popmenufull' onclick='return clickfullmenu();'>
      <div id="harburger-menu"></div>
    </a>

  </div>

</div>

<!-- POP UP MENU -->
  <div id="popmenufull" style="display:none;">
      <div class="popupheader">
          <div class="headerbar-leftside">
            <a href="/feed/" class="logo">
              <i class="ploticon-plotlylogo"></i>
              <em>plotly</em>
            </a>
          </div>
          <a href='#popmenufull' onclick='return clickfullmenu();'>
          <div class="close"><img alt="close" src="http://i.imgur.com/esVZHwn.png"></div> </a>
      </div>

      <div class="popupmenu">
        <ul>
          <li><a href="https://plot.ly/feed/">Explore</a></li>
          <li><a href="https://plot.ly/products/cloud/">Pricing</a></li>

          <div onmouseover="dropDownMenu('sub-industries')" onmouseout="hideDropDownMenu('sub-industries')">
            <li><a href="https://plot.ly/products/industries/">Industries</a></li>
            <div class="sub-popmenu" id="sub-industries" style="display:none;">
                <ul class="no-margin">
                  <li class="no-margin"><a href="https://plot.ly/products/industries/finance/">FINANCE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/insurance/">INSURANCE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/aerospace/">AEROSPACE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/energy/">ENERGY</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/research-and-development/">RESEARCH &amp; DEVELOPMENT</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/automotive/">AUTOMOTIVE</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/government-and-public/">GOVERNMENT</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/pharma/">PHARMA &amp; COMPUTATIONAL BIOLOGY</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/journalism/">JOURNALISM</a></li>
                  <li class="no-margin"><a href="https://plot.ly/products/industries/business-intelligence/">BUSINESS INTELLIGENCE</a></li>
                </ul>
            </div>
          </div>
          <div onmouseover="dropDownMenu('sub-api')" onmouseout="hideDropDownMenu('sub-api')">
            <li><a href="https://plot.ly/api/">API</a></li>
            <div class="sub-popmenu" id="sub-api" style="display:none;">
              <ul class="no-margin">
                <li class="no-margin"><a href="/python">PYTHON</a></li>
                <li class="no-margin"><a href="/r">R</a></li>
                <li class="no-margin"><a href="/matlab">MATLAB</a></li>
                <li class="no-margin"><a href="/javascript">JAVASCRIPT</a></li>
                <li class="no-margin"><a href="/api">MORE</a></li>
              </ul>
            </div>
          </div>
        </ul>
      </div>

  </div>

  <!-- POPUP MENU FULL PAGE -->
  <script>
  function clickfullmenu(){
    var thediv=document.getElementById('popmenufull');
    if(thediv.style.display == "none"){
      thediv.style.display = "";
    }else{
      thediv.style.display = "none";
    }
    return false;
  };
  </script>

  <!-- Drop Down Menu -->
  <script>
  function dropDownMenu(divID){
    var chosenDiv = document.getElementById(divID);
    console.log(chosenDiv);
    if(chosenDiv.style.display == "none"){
      chosenDiv.style.display = "block";
    }
  };
  function hideDropDownMenu(divID){
    var chosenDiv = document.getElementById(divID);
    console.log(chosenDiv);
    if(chosenDiv.style.display == "block"){
      chosenDiv.style.display = "none";
    }
  }
  </script>

  <script>
  console.log('got this');
    var hamburgerDiv = document.getElementById('harburger-menu');
    var currentUrl = window.location.href;
    var newImg = document.createElement('img');
    if (currentUrl === 'https://plot.ly/javascript/' ) {
        newImg.setAttribute('src', 'https://plot.ly/gh-pages/documentation/static//images/white-hamburger-bg-transparent.png');
        newImg.setAttribute('alt', 'Menu');
        newImg.setAttribute('id', 'hamburgerlink');
        newImg.setAttribute('onmouseover', 'this.src="https://plot.ly/gh-pages/documentation/static//images/blue-hamburger-bg-transparent.png"');
        newImg.setAttribute('onmouseout', 'this.src="https://plot.ly/gh-pages/documentation/static//images/white-hamburger-bg-transparent.png"');
        hamburgerDiv.appendChild(newImg);
    } else {
        newImg.setAttribute('src', 'http://i.imgur.com/o7Mxj6T.png');
        newImg.setAttribute('alt', 'Menu');
        newImg.setAttribute('id', 'hamburgerlink');
        newImg.setAttribute('onmouseover', 'this.src="http://i.imgur.com/gj2TtuI.png"');
        newImg.setAttribute('onmouseout', 'this.src="http://i.imgur.com/o7Mxj6T.png"');
        hamburgerDiv.appendChild(newImg);
    }

  </script>

  <div style="
    background-image: linear-gradient(0deg, rgba(100,91,158, 0.89)  0%, rgba(58,124,187, 0.89) 100%);
    width: 100%;
    height: 100%;
  "></div>
  
    <!-- Lang Banner -->
    <div class="js-splash--banner-container">
    <div class="js-splash--banner-title" style="font-size: 5rem; margin-top: 0; margin-bottom: 2rem; font-weight: 300; font-family:'Open sans',verdana,arial,sans-serif;">
    
    </div>
    <div class="js-splash--banner-subtitle" style="font-size: 2.2rem; letter-spacing: 0.3px; font-weight: 100;  margin-top: 0; margin-bottom: 2rem; font-weight: 300; font-family:'Open sans',verdana,arial,sans-serif;">
    
        <div style="padding-top: 30px;">
          <h6 style="font-size:30px; color: rgb(255,255,255);">Plotly for ggplot2 is now entirely open source, free, and self-hosted</h6>
          <h5 style="font-size:30px; color: rgb(255,255,255);" style="text-align: center;">
            Learn more about <a style="color: #ABB9D2;" href="https://plot.ly/javascript/open-source-announcement">why we've open sourced</a>
          </h5>
        </div>
    			
    
    </div>
    
    
       <iframe src="https://ghbtns.com/github-btn.html?user=ropensci&repo=plotly&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
    
</div>


</div>

    <!-- sitemap -->
    <div class="navigation-bar">

    <p class="align-left padding_left_small"><a href="http://help.plot.ly/"><i class="fa fa-life-ring"></i> Help</a><span>/</span><a href="/api/">API Libraries</a><span>/</span><a href="/ggplot2"  >ggplot2</a><span>/</span><a href="#"></a></p>

    <div class="float-right padding_right_small" style="margin-top:10px;">
        
            <a id="forklink" href="https://github.com/ropensci/plotly"><i class="fa fa-github-alt"></i> Fork on GitHub</a>
        
    </div>

</div>


		<div class="allcontent">
			
			<div class="sectionseparator_white">
				<div class="container">



					<h2>Plotly and ggplot2 User Guide</h2>

<p>Plotly for R is an interactive, browser-based charting library built on the open source JavaScript graphing library <a href="https://plot.ly/javascript" target="_blank">plotly.js</a>. It works entirely locally in your web-browser via the <a target="_blank" href="http://www.htmlwidgets.org/">HTML widgets framework</a>.</p>

<iframe src="https://plot.ly/~RPlotBot/1772.embed" width="100%" height="600px" style="border: none;"></iframe>

<p>Plotly graphs are interactive: click-and-drag to zoom, shift-drag to pan, click on legend entries to toggle traces.</p>

<p>The <a href="https://github.com/ropensci/plotly">plotly R package</a> serializes ggplot2 figures into Plotly&#39;s <a target="_blank" href="http://help.plot.ly/json-chart-schema/">universal graph JSON</a>. <code>plotly::ggplotly</code> will crawl the ggplot2 figure, extract and translate all of the attributes of the ggplot2 figure into JSON (the colors, the axes, the chart type, etc), and draw the graph with plotly.js.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">)</span>

<span class="n">dsamp</span> <span class="o">&lt;-</span> <span class="n">diamonds</span><span class="p">[</span><span class="n">sample</span><span class="p">(</span><span class="n">nrow</span><span class="p">(</span><span class="n">diamonds</span><span class="p">),</span> <span class="m">1000</span><span class="p">),</span> <span class="p">]</span>
<span class="n">gg</span> <span class="o">&lt;-</span> <span class="n">qplot</span><span class="p">(</span><span class="n">carat</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dsamp</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="n">clarity</span><span class="p">)</span>

<span class="n">ggplotly</span><span class="p">(</span><span class="n">gg</span><span class="p">)</span>
</code></pre></div>
<iframe height="600" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~RPlotBot/1778.embed" width="800" frameBorder="0"></iframe>

<p><code>plotly::ggplotly</code> returns a <code>plotly</code> object. When you print it in your console, the plotly object will be sent to your plotly account and opened in your web-browser (e.g. <a href="https://plot.ly/%7ERPlotBot/1778">https://plot.ly/~RPlotBot/1778</a>). <a href="https://plot.ly/r/knitr">In knitr</a>, the chart is embedded as an iframe. <a href="https://plot.ly/r/shiny-tutorial">In Shiny</a>, the chart JSON is served to the client and graphed client-side with <a href="https://github.com/plotly/postMessage-API">postMessage</a> or <a href="https://plot.ly/javascript">plotly.js</a>.</p>

<p>Plotly graphs can also be rendered locally with <a href="https://plot.ly/r/offline">Plotly Offline for R</a>.</p>

<h4><a name="modify-ggplot2-figure" href="#modify-ggplot2-figure">Modifying the <code>plotly</code> figure after ggplot2 conversion</a></h4>

<p>Sometimes it&#39;s helpful to modify your figure <em>after</em> you have converted it from ggplot2 to <code>plotly</code> <em>before</em> you save it in your plotly account. You may want to change the way <code>ggplotly</code> chose to translate the figure, or modify graph properties that just aren&#39;t available in <code>ggplot2</code>, like hover text.</p>

<p>In this case, use <code>plotly_build</code>. Consider this simple ggplot2 figure:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">df</span> <span class="o">&lt;-</span> <span class="n">data.frame</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">5</span><span class="p">),</span> <span class="n">group</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">))</span>
<span class="n">g</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="n">group</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_point</span><span class="p">()</span>
<span class="n">ggplotly</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
</code></pre></div>
<iframe height="600" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~RPlotBot/1791.embed" width="800" frameBorder="0"></iframe>

<p>Here is the ggplot2 figure described as a plotly object</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span> <span class="o">&lt;-</span> <span class="n">plotly_build</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## List of 2
##  $ data  :List of 2
##   ..$ :List of 10
##   .. ..$ x         : num [1:2] 1 2
##   .. ..$ y         : num [1:2] 1 5
##   .. ..$ name      : chr "A"
##   .. ..$ text      : chr(0) 
##   .. ..$ type      : chr "scatter"
##   .. ..$ mode      : chr "markers"
##   .. ..$ marker    :List of 6
##   .. .. ..$ opacity : num 1
##   .. .. ..$ color   : chr "rgb(248,118,109)"
##   .. .. ..$ size    : num 10
##   .. .. ..$ sizeref : num 1
##   .. .. ..$ sizemode: chr "area"
##   .. .. ..$ symbol  : chr "circle"
##   .. ..$ xaxis     : chr "x1"
##   .. ..$ yaxis     : chr "y1"
##   .. ..$ showlegend: logi TRUE
##   ..$ :List of 10
##   .. ..$ x         : num [1:2] 3 4
##   .. ..$ y         : num [1:2] 3 5
##   .. ..$ name      : chr "B"
##   .. ..$ text      : chr(0) 
##   .. ..$ type      : chr "scatter"
##   .. ..$ mode      : chr "markers"
##   .. ..$ marker    :List of 6
##   .. .. ..$ opacity : num 1
##   .. .. ..$ color   : chr "rgb(0,191,196)"
##   .. .. ..$ size    : num 10
##   .. .. ..$ sizeref : num 1
##   .. .. ..$ sizemode: chr "area"
##   .. .. ..$ symbol  : chr "circle"
##   .. ..$ xaxis     : chr "x1"
##   .. ..$ yaxis     : chr "y1"
##   .. ..$ showlegend: logi TRUE
##  $ layout:List of 9
##   ..$ xaxis        :List of 9
##   .. ..$ tickcolor     : chr "rgb(127,127,127)"
##   .. ..$ gridcolor     : chr "rgb(255,255,255)"
##   .. ..$ showgrid      : logi TRUE
##   .. ..$ ticks         : chr "outside"
##   .. ..$ showticklabels: logi TRUE
##   .. ..$ type          : chr "linear"
##   .. ..$ title         : chr "x"
##   .. ..$ zeroline      : logi FALSE
##   .. ..$ showline      : logi FALSE
##   ..$ yaxis        :List of 9
##   .. ..$ tickcolor     : chr "rgb(127,127,127)"
##   .. ..$ gridcolor     : chr "rgb(255,255,255)"
##   .. ..$ showgrid      : logi TRUE
##   .. ..$ ticks         : chr "outside"
##   .. ..$ showticklabels: logi TRUE
##   .. ..$ type          : chr "linear"
##   .. ..$ title         : chr "y"
##   .. ..$ zeroline      : logi FALSE
##   .. ..$ showline      : logi FALSE
##   ..$ plot_bgcolor : chr "rgb(229,229,229)"
##   ..$ margin       :List of 1
##   .. ..$ r: num 10
##   ..$ legend       :List of 9
##   .. ..$ bordercolor: chr "transparent"
##   .. ..$ x          : num 1.01
##   .. ..$ y          : num 0.525
##   .. ..$ xref       : chr "paper"
##   .. ..$ yref       : chr "paper"
##   .. ..$ xanchor    : chr "left"
##   .. ..$ yanchor    : chr "top"
##   .. ..$ font       :List of 1
##   .. .. ..$ family: chr ""
##   .. ..$ bgcolor    : chr "rgb(255,255,255)"
##   ..$ showlegend   : logi TRUE
##   ..$ annotations  :List of 1
##   .. ..$ :List of 9
##   .. .. ..$ text     : chr "&lt;b&gt;group&lt;/b&gt;"
##   .. .. ..$ x        : num 1.03
##   .. .. ..$ y        : num 0.625
##   .. .. ..$ showarrow: logi FALSE
##   .. .. ..$ xref     : chr "paper"
##   .. .. ..$ yref     : chr "paper"
##   .. .. ..$ xanchor  : chr "left"
##   .. .. ..$ yanchor  : chr "top"
##   .. .. ..$ textangle: num 0
##   ..$ titlefont    :List of 1
##   .. ..$ family: chr ""
##   ..$ paper_bgcolor: chr "rgb(255,255,255)"
</code></pre></div>
<p>This declaritive description of the graph is very human readable. Every attribute of the chart, the colors, the data, the text, is described in a key-value pair in this object. <a href="https://plot.ly/r/reference">View all of the possible graph attributes.</a></p>

<p>Attributes of plotly figures are grouped into two categories: <code>data</code> and <code>layout</code>. <code>data</code> describes attributes that pertain to the plot&#39;s series, or &quot;traces&quot;. These properties include things like the <code>x</code> and <code>y</code> data, the <code>color</code> and <code>name</code> of the trace, which axis the trace is bound to. <code>data</code> is an unnamed list.</p>

<p>Take a look:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">names</span><span class="p">(</span><span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">1</span><span class="p">]])</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">##  [1] "x"          "y"          "name"       "text"       "type"      
##  [6] "mode"       "marker"     "xaxis"      "yaxis"      "showlegend"
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># this trace is a "scatter" type
</span><span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">$</span><span class="n">type</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## [1] "scatter"
</code></pre></div>
<p>its name, as it appears in the legend, is &quot;A&quot;</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">$</span><span class="n">name</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## [1] "A"
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">str</span><span class="p">(</span><span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">1</span><span class="p">]])</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## List of 10
##  $ x         : num [1:2] 1 2
##  $ y         : num [1:2] 1 5
##  $ name      : chr "A"
##  $ text      : chr(0) 
##  $ type      : chr "scatter"
##  $ mode      : chr "markers"
##  $ marker    :List of 6
##   ..$ opacity : num 1
##   ..$ color   : chr "rgb(248,118,109)"
##   ..$ size    : num 10
##   ..$ sizeref : num 1
##   ..$ sizemode: chr "area"
##   ..$ symbol  : chr "circle"
##  $ xaxis     : chr "x1"
##  $ yaxis     : chr "y1"
##  $ showlegend: logi TRUE
</code></pre></div>
<p><code>layout</code> describes attributes that pertain to the rest of the plot, like axis properties, annotations, legends, and titles.</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">names</span><span class="p">(</span><span class="n">p</span><span class="o">$</span><span class="n">layout</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## [1] "xaxis"         "yaxis"         "plot_bgcolor"  "margin"       
## [5] "legend"        "showlegend"    "annotations"   "titlefont"    
## [9] "paper_bgcolor"
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">str</span><span class="p">(</span><span class="n">p</span><span class="o">$</span><span class="n">layout</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## List of 9
##  $ xaxis        :List of 9
##   ..$ tickcolor     : chr "rgb(127,127,127)"
##   ..$ gridcolor     : chr "rgb(255,255,255)"
##   ..$ showgrid      : logi TRUE
##   ..$ ticks         : chr "outside"
##   ..$ showticklabels: logi TRUE
##   ..$ type          : chr "linear"
##   ..$ title         : chr "x"
##   ..$ zeroline      : logi FALSE
##   ..$ showline      : logi FALSE
##  $ yaxis        :List of 9
##   ..$ tickcolor     : chr "rgb(127,127,127)"
##   ..$ gridcolor     : chr "rgb(255,255,255)"
##   ..$ showgrid      : logi TRUE
##   ..$ ticks         : chr "outside"
##   ..$ showticklabels: logi TRUE
##   ..$ type          : chr "linear"
##   ..$ title         : chr "y"
##   ..$ zeroline      : logi FALSE
##   ..$ showline      : logi FALSE
##  $ plot_bgcolor : chr "rgb(229,229,229)"
##  $ margin       :List of 1
##   ..$ r: num 10
##  $ legend       :List of 9
##   ..$ bordercolor: chr "transparent"
##   ..$ x          : num 1.01
##   ..$ y          : num 0.525
##   ..$ xref       : chr "paper"
##   ..$ yref       : chr "paper"
##   ..$ xanchor    : chr "left"
##   ..$ yanchor    : chr "top"
##   ..$ font       :List of 1
##   .. ..$ family: chr ""
##   ..$ bgcolor    : chr "rgb(255,255,255)"
##  $ showlegend   : logi TRUE
##  $ annotations  :List of 1
##   ..$ :List of 9
##   .. ..$ text     : chr "&lt;b&gt;group&lt;/b&gt;"
##   .. ..$ x        : num 1.03
##   .. ..$ y        : num 0.625
##   .. ..$ showarrow: logi FALSE
##   .. ..$ xref     : chr "paper"
##   .. ..$ yref     : chr "paper"
##   .. ..$ xanchor  : chr "left"
##   .. ..$ yanchor  : chr "top"
##   .. ..$ textangle: num 0
##  $ titlefont    :List of 1
##   ..$ family: chr ""
##  $ paper_bgcolor: chr "rgb(255,255,255)"
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">str</span><span class="p">(</span><span class="n">p</span><span class="o">$</span><span class="n">layout</span><span class="o">$</span><span class="n">plot_bgcolor</span><span class="p">)</span> <span class="c1"># the background color of the plot is "rgb(229,229,229)"
</span></code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">##  chr "rgb(229,229,229)"
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">str</span><span class="p">(</span><span class="n">p</span><span class="o">$</span><span class="n">layout</span><span class="o">$</span><span class="n">legend</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## List of 9
##  $ bordercolor: chr "transparent"
##  $ x          : num 1.01
##  $ y          : num 0.525
##  $ xref       : chr "paper"
##  $ yref       : chr "paper"
##  $ xanchor    : chr "left"
##  $ yanchor    : chr "top"
##  $ font       :List of 1
##   ..$ family: chr ""
##  $ bgcolor    : chr "rgb(255,255,255)"
</code></pre></div>
<p>Each of these properties was extracted and translated from the original ggplot2 figure. <a href="https://plot.ly/r/reference">View all of the possible attributes</a>.</p>

<p>You can edit or add these attributes and then send the figure to Plotly. Let&#39;s add custom hover text (<code>text</code>), change the legend names (<code>name</code>) add a title (<code>layout$title</code>)</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">$</span><span class="n">name</span> <span class="o">&lt;-</span> <span class="s1">'Group A'</span>
<span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">$</span><span class="n">text</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s1">'St Urbain'</span><span class="p">,</span> <span class="s1">'Gaspe'</span><span class="p">)</span>
<span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">$</span><span class="n">type</span> <span class="o">&lt;-</span> <span class="s1">'bar'</span>

<span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="o">$</span><span class="n">name</span> <span class="o">&lt;-</span> <span class="s1">'Group B'</span>
<span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="o">$</span><span class="n">text</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s1">'Laurier'</span><span class="p">,</span> <span class="s1">'Fairmount'</span><span class="p">)</span>
<span class="n">p</span><span class="o">$</span><span class="n">data</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="o">$</span><span class="n">type</span> <span class="o">&lt;-</span> <span class="s1">'bar'</span>

<span class="n">p</span><span class="o">$</span><span class="n">layout</span><span class="o">$</span><span class="n">title</span> <span class="o">&lt;-</span> <span class="s1">'Updated title'</span>
</code></pre></div>
<p>Now, send this to your plotly account:</p>
<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="o">$</span><span class="n">filename</span> <span class="o">&lt;-</span> <span class="s1">'ggplot2-user-guide/custom-ggplot2'</span>
<span class="n">r</span> <span class="o">&lt;-</span> <span class="n">plotly_POST</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="n">knit_print.plotly</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">list</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">## $url
## [1] "https://plot.ly/~RPlotBot/1793"
## 
## $message
## [1] ""
## 
## $warning
## [1] ""
## 
## $filename
## [1] "ggplot2-user-guideggplot2-user-guide/custom-ggplot2"
## 
## $error
## [1] ""
</code></pre></div>
<iframe height="600" id="igraph" scrolling="no" seamless="seamless" src="https://plot.ly/~RPlotBot/1793.embed" width="800" frameBorder="0"></iframe>

<h4>More resources</h4>

<ul>
<li><a href="https://plot.ly/ggplot2">ggplot2 examples</a></li>
<li><a href="https://plot.ly/r">Plotly&#39;s native R DSL</a></li>
<li><a href="https://plot.ly/r/reference">Plotly&#39;s declaritive graph description reference</a></li>
<li><a href="https://plot.ly/r/shiny-tutorial">Plotly with Shiny</a></li>
<li><a href="https://github.com/ropensci/plotly"><code>plotly</code> R package on GitHub</a></li>
<li><a href="https://plot.ly/api">Plotly graphs in other languages</a></li>
</ul>


				</div>
			</div>
		</div>
    <footer>
<div class="plotly-footer" id="footer">
	<div style="
    background-image: url('https://images.plot.ly/background-images/grey-chart-background.png');
    height: 200px;
    font-family: 'Open sans',verdana,arial,sans-serif;
    position: relative;">

<h2 style="
    text-align: center;
    background-color: rgba(255,255,255,0.9);
    margin: 0px;
    padding-top: 20px;
    font-family: 'Open sans',verdana,arial,sans-serif;">upgrade to pro</h2>

<h5 style="
    text-align: center;
    background-color: rgba(255,255,255,0.9);
    margin: 0;
    padding: 20px 0px;
    color: black;
    font-family: 'Open sans',verdana,arial,sans-serif;">unlimited private files & email support</h5>

<div style="
    text-align: center;
    height: 50%;
    font-family: 'Open sans',verdana,arial,sans-serif;
    background-color: rgba(255,255,255,0.9);">

<a class="button trial-offline-cta" href="https://plot.ly/products/cloud/">$20 per month</a>

</div>
</div>

	<div class="row footerarea footer-top" style="z-index: 100; position: relative;">
		<div class="one column footcolumn space"> </div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">API</h6>
			<ul>
				<li><a  href="https://plot.ly/api/" target="_self">Documentation</a></li>
				<li><a  href="https://plot.ly/api/" target="_self">API Libraries</a></li>
				<li><a  href="https://plot.ly/rest/" target="_self">REST APIs</a></li>
				<li><a  href="https://plot.ly/javascript/" target="_self">Plotly.js</a></li>
				<li><a  href="https://plot.ly/workshop/" target="_self">Hardware</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">About Us</h6>
			<ul>
				<li><a href="https://plot.ly/company/team/" target="_self">Team</a></li>
				<li><a href="https://plot.ly/company/jobs/" target="_self">Careers</a></li>
				<li><a href="http://blog.plot.ly" target="_blank">Plotly Blog</a></li>
				<li><a href="http://moderndata.plot.ly" target="_blank">Modern Data</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">Help</h6>
			<ul>
				<li><a href="https://plot.ly/learn/" target="_self">Knowledge Base</a></li>
				<li><a href="https://plot.ly/benchmarks/" target="_self">Benchmarks</a></li>
				<li><a href="https://plot.ly/workshop/" target="_self">Workshop</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
			<h6 class="footer-heading">Solutions</h6>
			<ul>
				<li><a href="https://plot.ly/product/plans/" target="_self">Plans &amp; Pricing</a></li>
				<li><a href="https://plot.ly/product/enterprise/" target="_self">Enterprise</a></li>
				<li><a href="https://plot.ly/online-graphing-and-statistics-for-educators/" target="_self">Education</a></li>
				<li><a href="https://plot.ly/product/plotlyjs/" target="_self">Plotly.js</a></li>
			</ul>
		</div>
		<div class="two columns footcolumn respfooter">
     		<h6 class="footer-heading">Connect</h6>
			<ul class="plotly-social-media-small">
				<li><a href="//twitter.com/plotlygraphs" target="_blank"><i class="icon-twitter social_icon"></i></a></li>
				<li><a href="//www.facebook.com/Plotly" target="_blank"><i class="icon-facebook social_icon"></i></a></li>
				<li><a href="//github.com/plotly" target="_blank"><i class="icon-github social_icon"></i></a></li>
				<li><a href="//linkedin.com/company/plotly" target="_blank"><i class="icon-linkedin social_icon"></i></a></li>
				<li><a href="//plus.google.com/+PlotLy" target="_blank"><i class="icon-google-plus  social_icon"></i></a></li>
			</ul>
		</div>
		<div class="one column footcolumn"></div>
	</div>

	<div class="row footerarea footer-bottom" style="z-index: 100; position: relative;">
		<div class="one column footcolumn space"> </div>
		<div class="four columns footcolumn"><p>Copyright &copy; 2015 Plotly. All rights reserved.</p></div>
		<div class="two columns footcolumn"><a href="https://plot.ly/terms-of-service/" target="_blank" ><p>Terms of Service</p></a></div>
		<div class="two columns footcolumn"><a href="https://plot.ly/privacy/" target="_blank"><p>Privacy Policy</p></a></div>


	</div>
</div>
</footer>


<!-- Mathjax -->
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});
</script>
<script type='text/javascript' src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2CSafe.js&#038;ver=4.1'></script>


<!-- Image Hover Script -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/imghover.js"></script>

<!-- code highlighting -->
<script src="https://plot.ly/gh-pages/documentation/static//javascripts/codehighlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39373211-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]);
mixpanel.init("ad6df61d0b9400400b240631576c24d4");</script><!-- end Mixpanel -->

<script type="text/javascript">
    mixpanel.track("Page visit", {
        "url_group": "API docs - GitHub pages",
        "url": window.location.pathname
    });
</script>

<script type="text/javascript">
function getQueryParam(param) {
    param = param.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regexS = "[\\?&]" + param + "=([^&#]*)",
        regex = new RegExp( regexS ),
        results = regex.exec(document.URL);
    if (results === null || (results && typeof(results[1]) !== 'string' && results[1].length)) {
        return '';
    } else {
        return decodeURIComponent(results[1]).replace(/\+/g, ' ');
    }
};
</script>

<script type="text/javascript">
    var visit_origin = getQueryParam("campaign_id");

    mixpanel.register({
        "email_campaign_received": visit_origin
    });

		mixpanel.track("email-campaign-visit", {
				"url": window.location.pathname,
				"email_campaign_received": visit_origin
		});
</script>


<!-- Crazy Egg -->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0042/1249.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-563d60eba90f0f45" async="async"></script>

<!-- Intercom.io for R and Python pages -->


	</body>
</html>
