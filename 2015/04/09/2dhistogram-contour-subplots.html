<<<<<<< HEAD
// from http://bl.ocks.org/mbostock/4349187
// Sample from a normal distribution with mean 0, stddev 1.
function normal() {
    var x = 0,
        y = 0,
        rds, c;
    do {
        x = Math.random() * 2 - 1;
        y = Math.random() * 2 - 1;
        rds = x * x + y * y;
    } while (rds == 0 || rds > 1);
    c = Math.sqrt(-2 * Math.log(rds) / rds); // Box-Muller transform
    return x * c; // throw away extra sample y * c
}

var N = 2000, 
	a = -1,
	b = 1.2;

var step = (b - a) / (N - 1);
var t = new Array(N), x = new Array(N), y = new Array(N);

for(var i = 0; i < N; i++){
	t[i] = a + step * i;
	x[i] = (Math.pow(t[i], 3)) + (0.3 * normal() );
	y[i] = (Math.pow(t[i], 6)) + (0.3 * normal() ); 
} 

var trace1 = {
	x: x, 
	y: y, 
	mode: "markers", 
	name: "points", 
	marker: {
		color: "rgb(102,0,0)", 
		size: 2, 
		opacity: 0.4
	}, 
	type: "scatter"
};
var trace2 = {
	x: x, 
	y: y, 
	name: "density", 
	ncontours: 20, 
	colorscale: "Hot", 
	reversescale: true, 
	showscale: false, 
	type: "histogram2dcontour"
};
var trace3 = {
	x: x, 
	name: "x density", 
	marker: {color: "rgb(102,0,0)"}, 
	yaxis: "y2", 
	type: "histogram"
};
var trace4 = {
	y: y, 
	name: "y density", 
	marker: {color: "rgb(102,0,0)"}, 
	xaxis: "x2", 
	type: "histogram"
};
var data = [trace1, trace2, trace3, trace4];
var layout = {
	showlegend: false, 
	autosize: false, 
	width: 600, 
	height: 550, 
	margin: {t: 50}, 
	hovermode: "closest", 
	bargap: 0, 
	xaxis: {
		domain: [0, 0.85], 
		showgrid: false, 
		zeroline: false
	}, 
	yaxis: {
		domain: [0, 0.85], 
		showgrid: false, 
		zeroline: false
	}, 
	xaxis2: {
		domain: [0.85, 1], 
		showgrid: false, 
		zeroline: false
	}, 
	yaxis2: {
		domain: [0.85, 1], 
		showgrid: false, 
		zeroline: false
	}
};
Plotly.plot("myDiv", data, layout);
=======
# Learn about API authentication here: https://plot.ly/r/getting-started
# Find your api_key here: https://plot.ly/settings/api

library(plotly)

t = seq(-1, 1.2, length=2000)
x = t^3+0.3*rnorm(2000)
y = t^6+0.3*rnorm(2000)

trace1 &lt;- list(
  x = x,
  y = y,
  mode = "markers",
  name = "points",
  marker = list(
    color = "rgb(102,0,0)",
    size = 2,
    opacity = 0.4
  ),
  type = "scatter"
)
trace2 &lt;- list(
  x = x,
  y = y,
  name = "density",
  ncontours = 20,
  colorscale = "Hot",
  reversescale = TRUE,
  showscale = FALSE,
  type = "histogram2dcontour"
)
trace3 &lt;- list(
  x = x,
  name = "x density",
  marker = list(color = "rgb(102,0,0)"),
  yaxis = "y2",
  type = "histogram"
)
trace4 &lt;- list(
  y = y,
  name = "y density",
  marker = list(color = "rgb(102,0,0)"),
  xaxis = "x2",
  type = "histogram"
)
data &lt;- list(trace1, trace2, trace3, trace4)
layout &lt;- list(
  showlegend = FALSE,
  autosize = FALSE,
  width = 600,
  height = 550,
  xaxis = list(
    domain = c(0, 0.85),
    showgrid = FALSE,
    zeroline = FALSE
  ),
  yaxis = list(
    domain = c(0, 0.85),
    showgrid = FALSE,
    zeroline = FALSE
  ),
  margin = list(t = 50),
  hovermode = "closest",
  bargap = 0,
  xaxis2 = list(
    domain = c(0.85, 1),
    showgrid = FALSE,
    zeroline = FALSE
  ),
  yaxis2 = list(
    domain = c(0.85, 1),
    showgrid = FALSE,
    zeroline = FALSE
  )
)
response &lt;- py$plotly(data, kwargs=list(layout=layout, filename="2dhistogram-contour-subplots", fileopt="overwrite"))
url &lt;- response$url
>>>>>>> 4bb705aa10e649954d603b16b93ceaed08ccec9b
